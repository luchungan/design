<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>闭包</title>
</head>
<body>

	<script>
	var Book = (function(){
		var num=1;
		function checkName(){
			return name=='book';
		}
		var _book= function  (name,id,price){
			if(this instanceof Book){
				this.name=name;
				this.id=id;
				this.price=price;
				num++;
				alert(num);
			}else{
				return new Book(name,id,price)
			}

		}
		_book.prototype={
			constructor:Book,
			say:function(){alert('say')}

		}
		alert(num)
		
		return _book;
	})()

	
		var book=Book('lily',1,10);
		console.log(book)
	
	




	</script>
	
</body>
</html>